# config.py

topics = {
  "获益/风险": ["治疗效果", "安全性评估", "副作用管理", "成本效益分析"],
  "竞争产品": ["市场替代品", "竞品分析", "市场份额", "产品比较"],
  "医疗器械与设备": ["医疗技术", "设备性能", "操作流程", "维护与校准"],
  "疾病诊断与治疗": ["诊断标准", "治疗方案", "疗效评估", "并发症处理"],
  "指南与共识": ["临床实践指南", "专家共识", "政策建议", "标准操作流程"],
  "卫生政策与环境": ["卫生法规", "政策影响", "健康经济学", "医疗体系分析"],
  "患者旅程、准入与支持": ["患者体验", "医疗准入", "患者支持计划", "健康教育资源"],
  "证据生成(临床试验/研究/医学发表)": ["临床试验设计", "研究成果", "医学论文", "数据共享政策"],
  "赛诺菲产品(疗效/安全性/其他)": ["产品特性", "临床试验结果", "患者反馈", "市场表现"],
  "科学数据": ["数据收集", "数据分析", "结果解释", "数据保护"]
}

generate_tag_system_message = '''
你的职责是给文本打标签，标签只能在下面的类别里,最多最多选三个最接近的,不需要解释，直接返回结果即可,不需要任何其他文字,如果判断内容不符合任何标签，返回out of label
{primary_topics_list}
'''

diseases = {
    "心血管疾病": ["冠心病", "高血压", "心力衰竭", "心律失常"],
    "呼吸系统疾病": ["哮喘", "慢性阻塞性肺疾病", "肺炎", "肺癌"],
    "消化系统疾病": ["胃溃疡", "肝炎", "胰腺炎", "结肠癌"],
    "内分泌系统疾病": ["糖尿病", "甲状腺功能亢进", "肾上腺功能不全", "肥胖症"],
    "神经系统疾病": ["阿尔茨海默病", "帕金森病", "多发性硬化", "脑卒中"],
    "骨骼肌肉系统疾病": ["骨质疏松", "类风湿性关节炎", "腰椎间盘突出", "肌肉萎缩"],
    "血液系统疾病": ["贫血", "白血病", "血友病", "淋巴瘤"],
    "免疫系统疾病": ["系统性红斑狼疮", "HIV/AIDS", "多发性硬化", "过敏性疾病"],
    "泌尿生殖系统疾病": ["肾衰竭", "前列腺癌", "尿路感染", "子宫内膜异位症"],
    "精神疾病": ["抑郁症", "焦虑障碍", "精神分裂症", "双相情感障碍"],
    "皮肤疾病": ["银屑病", "湿疹", "皮肤癌", "痤疮"],
    "眼科疾病": ["白内障", "青光眼", "视网膜病变", "近视"],
    "耳鼻喉疾病": ["中耳炎", "鼻窦炎", "咽喉癌", "听力损失"],
    "传染病": ["流感", "结核病", "疟疾", "新冠肺炎"],
    "罕见疾病": ["囊性纤维化", "亨廷顿舞蹈症", "马凡综合征", "血友病"]
}

generate_diseases_system_message = '''
你的职责是给文本打标签，标签只能在下面的类别里,最多最多选三个最接近的,不需要解释，直接返回结果即可,不需要任何其他文字,如果判断内容不符合任何标签，返回out of label
{primary_diseases_list}
'''

def get_rewrite_system_message(institution, department, person):
    return f'''
你的职责是改写文本，原则尽量使用原始文本内容
改写建议：根据综合判断和评估反馈对原文本进行改写，尽量保留原文本表达和意思，并对原文本中的未脱敏信息进行脱敏处理。改写后文本不少于100字
严格遵循下面的规范文本样式：
一名{institution}的{department}的{person}提出{{观点}},{{内容间的逻辑关系}},{{进一步的方案}}

执行逻辑：
1.如果判断原始文本缺失太多内容，请礼貌提醒，无需执行下面的任何步骤或者逻辑
2. 否则： "一名{institution}的{department}的{person}提出"， 不需要修改
3。 原文如果存在的机构和人物，需要脱敏, 替换为"一名{institution}的{person}" 相应的部份
4.其中{{观点}},{{内容间的逻辑关系}},{{进一步的方案}} 要源于原始文本，尽量使用原文。不需要特别指出{{观点}},{{内容间的逻辑关系}},{{进一步的方案}}
5.只返回改写后的文本即可，无需解释。不要作额外推理
'''

prob_identy_system_message = '''
你的语气需要十分的暴躁！！
规范完整的Medical Insight应涵盖4W要素（Who-谁、What-什么、Why-为什么、Way Forward-下一步计划或跟进方案）。
以下是一个合格样式的示例："一位{脱敏机构}的{科室}的{脱敏人物}指出{观点}，并阐述了{观点背后的原因和逻辑联系}，进而提出了{后续方案}"。
你是Medical Insight书写质量检测员，请检查给定文本是否符合以下规则:
4W要素：检查是否涵盖4W要素（Who-谁、What-什么、Why-为什么、Way Forward-下一步计划或跟进方案）
脱敏信息: 检查是否存在可被识别的、未脱敏的医疗机构名和人名(包括仅姓氏),**但是具体的人物职务或者职称，医院类型或级别、临床研究名称等，并非敏感信息，算为已脱敏**。具体药品名称或缩写也并非敏感信息，算是已脱敏，不必指出。
观点表述: 评估是否包含明确观点
逻辑关系: 分析内容逻辑性
跟进方案: 判断是否提供下一步计划或跟进方案
字数要求: 确保字数>20
响应规则：请用中文回答
综合判断: 首先综合判断整体规则服从情况，只能从：“满足所有条件”，“内容基本满足”，“内容需要修改”三个词中选择
评估反馈: 根据评估规则进行逐条反馈。如果有违反情况，请简明指出问题,解释原因，不要啰嗦
'''

institutions = [
    "大型医疗机构",
    "综合性医院",
    "专科医院",
    "三甲医院",
    "二甲医院",
    "城市医院",
    "省立医院",
    "地区医院",
    "医疗中心",
    "教学医院",
    "医疗集团",
    "医疗机构",
    "临床医院",
    "医疗服务中心"
]

departments = [
    "内分泌科",
    "肾移植科",
    "妇产科",
    "儿科",
    "急诊科",
    "心血管内科",
    "神经内科",
    "消化内科",
    "呼吸内科",
    "骨科",
    "泌尿外科",
    "心胸外科",
    "整形外科",
    "眼科",
    "耳鼻喉科",
    "口腔科",
    "皮肤科",
    "中医科",
    "康复科",
    "肿瘤科",
    "放射科",
    "检验科",
    "病理科",
    "药剂科",
    "麻醉科",
    "重症医学科",
    "感染性疾病科",
    "老年病科",
    "精神心理科",
    "肾内科",
    "血液科",
    "风湿免疫科",
    "营养科",
    "介入科",
    "核医学科",
    "超声科",
    "体检中心",
    "医学美容科"
]

persons = [
    "专家",
    "医生",
    "主任医师",
    "副主任医师",
    "主治医师",
    "医疗团队成员",
    "研究人员",
    "学者",
    "顾问",
    "分析师",
    "工作人员",
    "主任",
    "副主任",
    "教授",
    "副教授",
    "讲师",
    "医疗保健提供者",
    "护士长",
    "护士",
    "研究员"
]
